"""
🧊 冰箱托管（Fridge Manager）
==============================

一个现代化的智能食材管理与菜谱推荐系统。

本项目从零构建，核心目标是：
    - 用“可解释、可操作”的方式建模真实世界中的家庭冰箱
    - 通过精细化库存建模与交互设计，减少食物浪费
    - 降低用户在“今天吃什么”上的决策成本

项目不仅关注功能实现，
也重点探索：真实世界对象（食材）如何在前端系统中被合理建模与交互。
"""


# =========================================================
# ✨ 核心功能概览
# =========================================================

"""
1. 四列可视化冰箱结构
--------------------
冰箱被明确划分为四个并列的存储区域：

    🧊 fridge     - 冷藏（有明确保质期）
    ❄️ freezer    - 冷冻（长期保存，不追踪到期日）
    🏠 pantry     - 常温（耐放食材）
    🧂 condiment  - 调味料

特性：
    - 四列始终横向并排显示（1-1-1-1）
    - 小屏设备支持横向滚动
    - 每一列都是独立的拖拽目标区域（Droppable）
"""


"""
2. 食材的“批次级”建模（核心设计）
--------------------------------
系统不把“食材”简单视为一个数字，而是引入“批次”概念：

    同名 + 同存储方式 + 同单位 + 同到期日
        → 视为同一个批次（batch）

表现层：
    - 相同批次会被聚合成一张卡片展示

数据层：
    - 内部仍保持多条真实记录
    - 便于精确扣减、部分移动、到期判断
"""


"""
3. 细粒度库存操作（加 / 减）
----------------------------
每张食材卡片支持：

    [+]  增加 1 个
         → 视为“今天新买了一份”
         → 自动生成新的购买日期与到期日

    [-]  减少 1 个
         → 优先消耗最早过期的那一批
         → 若数量为 0，则删除该条记录

所有操作均遵循真实库存消耗逻辑。
"""


"""
4. 拖拽移动 + 数量确认（高级交互）
--------------------------------
支持将食材从一个存储区域拖拽到另一个区域：

拖拽过程：
    - 使用 DragOverlay
    - 被拖动卡片始终显示在最顶层

放置后：
    - 不会默认“全部移动”
    - 页面中央弹出数量确认框：

        你要移动几个？
        [ − ]  [  3  ]  [ + ]

    - 支持手动输入或按钮调整
    - 支持“部分移动”
"""


"""
5. 冷冻 → 冷藏的解冻逻辑
------------------------
当食材从 freezer 拖拽到 fridge 时：

    - 系统自动视为“刚解冻”
    - 保质期从当前时间开始重新计算
    - 默认设置为 2 天

该设计高度贴近日常生活直觉。
"""


"""
6. 不同存储区的排序策略
----------------------
不同区域采用不同排序逻辑，而非统一排序：

    fridge:
        - 先按食材名称
        - 再按到期日

    freezer:
        - 仅按食材名称
        - 不显示到期日

    pantry / condiment:
        - 按剩余天数排序
"""


"""
7. 菜谱推荐模块（下半区）
------------------------
主页下半部分为菜谱推荐区域：

    - 根据当前冰箱食材 + 用户偏好生成推荐
    - 明确区分：
        * 已有食材
        * 缺失食材（会明确提示）
    - 使用菜谱后可自动扣减库存（可扩展）
"""


# =========================================================
# 📁 项目结构
# =========================================================

"""
fridge-manager/
├── package.json
├── vite.config.js
├── tailwind.config.js
├── postcss.config.js
├── index.html
├── .env                # Supabase 密钥（已忽略）
├── .gitignore
├── README.py           # ← 本文件
│
├── public/
│   └── favicon.ico
│
└── src/
    ├── main.jsx        # React 应用入口
    ├── App.jsx         # 路由、云端同步、全局状态
    ├── index.css
    │
    ├── config/
    │   └── supabaseClient.js
    │
    ├── components/
    │   ├── LandingPage.jsx
    │   ├── PreferencesPage.jsx
    │   ├── IngredientsPage.jsx
    │   ├── MainPage.jsx        # 四列冰箱 + 拖拽核心逻辑
    │   ├── FridgePanel.jsx     # 单列面板 + 聚合/排序
    │   ├── IngredientCard.jsx  # 可拖拽食材卡片
    │   └── RecipePanel.jsx
    │
    └── utils/
        ├── dateUtils.js
        └── templates.js
"""


# =========================================================
# 🧠 核心数据结构（Python 表达）
# =========================================================

"""
Ingredient（食材）
-----------------
"""

ingredient = {
    "id": "uuid",
    "name": "番茄",
    "unit": "个",
    "amount": 3,
    "storage": "fridge",          # fridge / freezer / pantry / condiment
    "purchase_date": "2026-01-14",
    "shelf_life": 5               # 天
}


"""
Preferences（用户偏好）
----------------------
"""

preferences = {
    "tastes": [],
    "quick_meals": False,
    "allergens": [],
    "diet_type": [],
    "consider_nutrition": False
}


# =========================================================
# 🔄 数据流说明
# =========================================================

"""
1. 用户在界面中进行操作（加 / 减 / 拖拽）
2. React 状态立即更新（UI 即时响应）
3. Supabase 同步写入云端数据库
4. 用户重新登录或跨设备时自动恢复状态
"""


# =========================================================
# 🚀 技术栈
# =========================================================

"""
Frontend:
    - React
    - Vite
    - Tailwind CSS
    - dnd-kit

Backend / Cloud:
    - Supabase (Auth + Database)

Deployment:
    - Vercel (CI/CD 自动部署)
"""


# =========================================================
# 🧭 项目定位与未来方向
# =========================================================

"""
项目定位：
    - 偏重交互建模与认知友好的产品原型
    - 强调“真实世界逻辑 → 前端数据结构”的映射

未来方向：
    - 按库存占比进行空间可视化（floating layout）
    - 更智能的菜谱推荐与缺失推断
    - 移动端交互优化
"""

"""
最后更新：2026-01-15
"""
